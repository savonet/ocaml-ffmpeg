<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Avcodec (ffmpeg-avcodec.Avcodec)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">ffmpeg-avcodec</a> &#x00BB; Avcodec</nav><h1>Module <code>Avcodec</code></h1><p>This module contains decoders and encoders for audio, video and subtitle codecs.</p><nav class="toc"><ul><li><a href="#constants">Constants</a></li></ul></nav></header><dl><dt class="spec type" id="type-codec"><a href="#type-codec" class="anchor"></a><code><span class="keyword">type</span> <span>('media, 'mode) codec</span></code></dt><dt class="spec type" id="type-params"><a href="#type-params" class="anchor"></a><code><span class="keyword">type</span> <span>'media params</span></code></dt><dt class="spec type" id="type-decoder"><a href="#type-decoder" class="anchor"></a><code><span class="keyword">type</span> <span>'media decoder</span></code></dt><dt class="spec type" id="type-encoder"><a href="#type-encoder" class="anchor"></a><code><span class="keyword">type</span> <span>'media encoder</span></code></dt><dt class="spec type" id="type-encode"><a href="#type-encode" class="anchor"></a><code><span class="keyword">type</span> encode</code> = <code>[ </code><table class="variant"><tr id="type-encode.Encoder" class="anchored"><td class="def constructor"><a href="#type-encode.Encoder" class="anchor"></a><code>| </code><code>`Encoder</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-decode"><a href="#type-decode" class="anchor"></a><code><span class="keyword">type</span> decode</code> = <code>[ </code><table class="variant"><tr id="type-decode.Decoder" class="anchored"><td class="def constructor"><a href="#type-decode.Decoder" class="anchor"></a><code>| </code><code>`Decoder</code></td></tr></table><code> ]</code></dt></dl><section><header><h6 id="constants"><a href="#constants" class="anchor"></a>Constants</h6></header><dl><dt class="spec value" id="val-flag_qscale"><a href="#val-flag_qscale" class="anchor"></a><code><span class="keyword">val</span> flag_qscale : int</code></dt><dt class="spec value" id="val-params"><a href="#val-params" class="anchor"></a><code><span class="keyword">val</span> params : <span><span class="type-var">'media</span> <a href="index.html#type-encoder">encoder</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'media</span> <a href="index.html#type-params">params</a></span></code></dt><dd><p>Get the params of a given encoder</p></dd></dl><dl><dt class="spec value" id="val-time_base"><a href="#val-time_base" class="anchor"></a><code><span class="keyword">val</span> time_base : <span><span class="type-var">'media</span> <a href="index.html#type-encoder">encoder</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-rational">Avutil.rational</a></code></dt><dd><p>Get the time base of a given encoder.</p></dd></dl><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-codec">codec</a></span> <span>&#45;&gt;</span> string</code></dt><dd><p>Get the name of a given codec.</p></dd></dl><dl><dt class="spec type" id="type-capability"><a href="#type-capability" class="anchor"></a><code><span class="keyword">type</span> capability</code><code> = <a href="../Avcodec__/Codec_capabilities/index.html#type-t">Avcodec__.Codec_capabilities.t</a></code></dt><dd><p>Codec capabilities.</p></dd></dl><dl><dt class="spec value" id="val-capabilities"><a href="#val-capabilities" class="anchor"></a><code><span class="keyword">val</span> capabilities : <span><span>(<span>[&lt; `Audio <span>| `Video</span> ]</span>, <a href="index.html#type-encode">encode</a>)</span> <a href="index.html#type-codec">codec</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-capability">capability</a> list</span></code></dt><dd><p>Get the encoding capabilities for this codec.</p></dd></dl><dl><dt class="spec type" id="type-hw_config_method"><a href="#type-hw_config_method" class="anchor"></a><code><span class="keyword">type</span> hw_config_method</code><code> = <a href="../Avcodec__/Hw_config_method/index.html#type-t">Avcodec__.Hw_config_method.t</a></code></dt><dd><p>Codec hardware config method.</p></dd></dl><dl><dt class="spec type" id="type-hw_config"><a href="#type-hw_config" class="anchor"></a><code><span class="keyword">type</span> hw_config</code><code> = </code><code>{</code><table class="record"><tr id="type-hw_config.pixel_format" class="anchored"><td class="def field"><a href="#type-hw_config.pixel_format" class="anchor"></a><code>pixel_format : <a href="../../ffmpeg-avutil/Avutil/Pixel_format/index.html#type-t">Avutil.Pixel_format.t</a>;</code></td></tr><tr id="type-hw_config.methods" class="anchored"><td class="def field"><a href="#type-hw_config.methods" class="anchor"></a><code>methods : <span><a href="index.html#type-hw_config_method">hw_config_method</a> list</span>;</code></td></tr><tr id="type-hw_config.device_type" class="anchored"><td class="def field"><a href="#type-hw_config.device_type" class="anchor"></a><code>device_type : <a href="../../ffmpeg-avutil/Avutil/HwContext/index.html#type-device_type">Avutil.HwContext.device_type</a>;</code></td></tr></table><code>}</code></dt><dd><p>Hardward config for the given codec.</p></dd></dl><dl><dt class="spec value" id="val-hw_configs"><a href="#val-hw_configs" class="anchor"></a><code><span class="keyword">val</span> hw_configs : <span><span>(<span>[&lt; `Audio <span>| `Video</span> ]</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-codec">codec</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-hw_config">hw_config</a> list</span></code></dt><dd><p>Get the codec's hardward configs.</p></dd></dl><dl><dt class="spec module" id="module-Packet"><a href="#module-Packet" class="anchor"></a><code><span class="keyword">module</span> <a href="Packet/index.html">Packet</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Packet.</p></dd></dl><dl><dt class="spec module" id="module-Audio"><a href="#module-Audio" class="anchor"></a><code><span class="keyword">module</span> <a href="Audio/index.html">Audio</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Audio codecs.</p></dd></dl><dl><dt class="spec module" id="module-Video"><a href="#module-Video" class="anchor"></a><code><span class="keyword">module</span> <a href="Video/index.html">Video</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Video codecs.</p></dd></dl><dl><dt class="spec module" id="module-Subtitle"><a href="#module-Subtitle" class="anchor"></a><code><span class="keyword">module</span> <a href="Subtitle/index.html">Subtitle</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Subtitle codecs.</p></dd></dl><dl><dt class="spec value" id="val-decode"><a href="#val-decode" class="anchor"></a><code><span class="keyword">val</span> decode : <span><span class="type-var">'media</span> <a href="index.html#type-decoder">decoder</a></span> <span>&#45;&gt;</span> <span>(<span><span class="type-var">'media</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-frame">Avutil.frame</a></span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'media</span> <a href="Packet/index.html#type-t">Packet.t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avcodec.decode decoder f packet</code> applies function <code>f</code> to the decoded frames frome the <code>packet</code> according to the <code>decoder</code> configuration.</p><p>Raise Error if the decoding failed.</p></dd></dl><dl><dt class="spec value" id="val-flush_decoder"><a href="#val-flush_decoder" class="anchor"></a><code><span class="keyword">val</span> flush_decoder : <span><span class="type-var">'media</span> <a href="index.html#type-decoder">decoder</a></span> <span>&#45;&gt;</span> <span>(<span><span class="type-var">'media</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-frame">Avutil.frame</a></span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avcodec.flush_decoder decoder f</code> applies function <code>f</code> to the decoded frames frome the buffered packets in the <code>decoder</code>.</p><p>Raise Error if the decoding failed.</p></dd></dl><dl><dt class="spec value" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span class="keyword">val</span> encode : <span><span class="type-var">'media</span> <a href="index.html#type-encoder">encoder</a></span> <span>&#45;&gt;</span> <span>(<span><span class="type-var">'media</span> <a href="Packet/index.html#type-t">Packet.t</a></span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'media</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-frame">Avutil.frame</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avcodec.encode encoder f frame</code> applies function <code>f</code> to the encoded packets from the <code>frame</code> according to the <code>encoder</code> configuration.</p><p>Raise Error if the encoding failed.</p></dd></dl><dl><dt class="spec value" id="val-flush_encoder"><a href="#val-flush_encoder" class="anchor"></a><code><span class="keyword">val</span> flush_encoder : <span><span class="type-var">'media</span> <a href="index.html#type-encoder">encoder</a></span> <span>&#45;&gt;</span> <span>(<span><span class="type-var">'media</span> <a href="Packet/index.html#type-t">Packet.t</a></span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avcodec.flush_encoder encoder</code> applies function <code>f</code> to the encoded packets from the buffered frames in the <code>encoder</code>.</p><p>Raise Error if the encoding failed.</p></dd></dl></section></div></body></html>