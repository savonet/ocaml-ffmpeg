<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Avfilter (ffmpeg-avfilter.Avfilter)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">ffmpeg-avfilter</a> &#x00BB; Avfilter</nav><h1>Module <code>Avfilter</code></h1><p>This module provides an API to AVfilter.</p></header><dl><dt class="spec type" id="type-config"><a href="#type-config" class="anchor"></a><code><span class="keyword">type</span> config</code></dt><dt class="spec type" id="type-valued_arg"><a href="#type-valued_arg" class="anchor"></a><code><span class="keyword">type</span> valued_arg</code> = <code>[ </code><table class="variant"><tr id="type-valued_arg.String" class="anchored"><td class="def constructor"><a href="#type-valued_arg.String" class="anchor"></a><code>| </code><code>`String <span class="keyword">of</span> string</code></td></tr><tr id="type-valued_arg.Int" class="anchored"><td class="def constructor"><a href="#type-valued_arg.Int" class="anchor"></a><code>| </code><code>`Int <span class="keyword">of</span> int</code></td></tr><tr id="type-valued_arg.Int64" class="anchored"><td class="def constructor"><a href="#type-valued_arg.Int64" class="anchor"></a><code>| </code><code>`Int64 <span class="keyword">of</span> int64</code></td></tr><tr id="type-valued_arg.Float" class="anchored"><td class="def constructor"><a href="#type-valued_arg.Float" class="anchor"></a><code>| </code><code>`Float <span class="keyword">of</span> float</code></td></tr><tr id="type-valued_arg.Rational" class="anchored"><td class="def constructor"><a href="#type-valued_arg.Rational" class="anchor"></a><code>| </code><code>`Rational <span class="keyword">of</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-rational">Avutil.rational</a></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-args"><a href="#type-args" class="anchor"></a><code><span class="keyword">type</span> args</code> = <code>[ </code><table class="variant"><tr id="type-args.Flag" class="anchored"><td class="def constructor"><a href="#type-args.Flag" class="anchor"></a><code>| </code><code>`Flag <span class="keyword">of</span> string</code></td></tr><tr id="type-args.Pair" class="anchored"><td class="def constructor"><a href="#type-args.Pair" class="anchor"></a><code>| </code><code>`Pair <span class="keyword">of</span> string * <a href="index.html#type-valued_arg">valued_arg</a></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-av"><a href="#type-av" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) av</span></code><code> = </code><code>{</code><table class="record"><tr id="type-av.audio" class="anchored"><td class="def field"><a href="#type-av.audio" class="anchor"></a><code>audio : <span class="type-var">'a</span>;</code></td></tr><tr id="type-av.video" class="anchored"><td class="def field"><a href="#type-av.video" class="anchor"></a><code>video : <span class="type-var">'b</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-io"><a href="#type-io" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) io</span></code><code> = </code><code>{</code><table class="record"><tr id="type-io.inputs" class="anchored"><td class="def field"><a href="#type-io.inputs" class="anchor"></a><code>inputs : <span class="type-var">'a</span>;</code></td></tr><tr id="type-io.outputs" class="anchored"><td class="def field"><a href="#type-io.outputs" class="anchor"></a><code>outputs : <span class="type-var">'b</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-pad"><a href="#type-pad" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b, 'c) pad</span></code></dt><dd><p>(attached/unattached, audio/video, input/output) pad</p></dd></dl><dl><dt class="spec type" id="type-pads"><a href="#type-pads" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) pads</span></code><code> = <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span>[ `Audio ]</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-pad">pad</a></span> list</span>, <span><span><span>(<span class="type-var">'a</span>, <span>[ `Video ]</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-pad">pad</a></span> list</span>)</span> <a href="index.html#type-av">av</a></span></code></dt><dt class="spec type" id="type-flag"><a href="#type-flag" class="anchor"></a><code><span class="keyword">type</span> flag</code> = <code>[ </code><table class="variant"><tr id="type-flag.Dynamic_inputs" class="anchored"><td class="def constructor"><a href="#type-flag.Dynamic_inputs" class="anchor"></a><code>| </code><code>`Dynamic_inputs</code></td></tr><tr id="type-flag.Dynamic_outputs" class="anchored"><td class="def constructor"><a href="#type-flag.Dynamic_outputs" class="anchor"></a><code>| </code><code>`Dynamic_outputs</code></td></tr><tr id="type-flag.Slice_threads" class="anchored"><td class="def constructor"><a href="#type-flag.Slice_threads" class="anchor"></a><code>| </code><code>`Slice_threads</code></td></tr><tr id="type-flag.Support_timeline_generic" class="anchored"><td class="def constructor"><a href="#type-flag.Support_timeline_generic" class="anchor"></a><code>| </code><code>`Support_timeline_generic</code></td></tr><tr id="type-flag.Support_timeline_internal" class="anchored"><td class="def constructor"><a href="#type-flag.Support_timeline_internal" class="anchor"></a><code>| </code><code>`Support_timeline_internal</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-filter"><a href="#type-filter" class="anchor"></a><code><span class="keyword">type</span> <span>'a filter</span></code><code> = </code><code>{</code><table class="record"><tr id="type-filter.name" class="anchored"><td class="def field"><a href="#type-filter.name" class="anchor"></a><code>name : string;</code></td></tr><tr id="type-filter.description" class="anchored"><td class="def field"><a href="#type-filter.description" class="anchor"></a><code>description : string;</code></td></tr><tr id="type-filter.options" class="anchored"><td class="def field"><a href="#type-filter.options" class="anchor"></a><code>options : <a href="../../ffmpeg-avutil/Avutil/Options/index.html#type-t">Avutil.Options.t</a>;</code></td></tr><tr id="type-filter.flags" class="anchored"><td class="def field"><a href="#type-filter.flags" class="anchor"></a><code>flags : <span><a href="index.html#type-flag">flag</a> list</span>;</code></td></tr><tr id="type-filter.io" class="anchored"><td class="def field"><a href="#type-filter.io" class="anchor"></a><code>io : <span><span>(<span><span>(<span class="type-var">'a</span>, <span>[ `Input ]</span>)</span> <a href="index.html#type-pads">pads</a></span>, <span><span>(<span class="type-var">'a</span>, <span>[ `Output ]</span>)</span> <a href="index.html#type-pads">pads</a></span>)</span> <a href="index.html#type-io">io</a></span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-input"><a href="#type-input" class="anchor"></a><code><span class="keyword">type</span> <span>'a input</span></code><code> = <span><span class="type-var">'a</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-frame">Avutil.frame</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec type" id="type-context"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> <span>'a context</span></code></dt><dt class="spec type" id="type-output"><a href="#type-output" class="anchor"></a><code><span class="keyword">type</span> <span>'a output</span></code><code> = </code><code>{</code><table class="record"><tr id="type-output.context" class="anchored"><td class="def field"><a href="#type-output.context" class="anchor"></a><code>context : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span>;</code></td></tr><tr id="type-output.handler" class="anchored"><td class="def field"><a href="#type-output.handler" class="anchor"></a><code>handler : unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-frame">Avutil.frame</a></span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-entries"><a href="#type-entries" class="anchor"></a><code><span class="keyword">type</span> <span>'a entries</span></code><code> = <span><span>(string * <span class="type-var">'a</span>)</span> list</span></code></dt><dt class="spec type" id="type-inputs"><a href="#type-inputs" class="anchor"></a><code><span class="keyword">type</span> inputs</code><code> = <span><span>(<span><span><span>[ `Audio ]</span> <a href="index.html#type-input">input</a></span> <a href="index.html#type-entries">entries</a></span>, <span><span><span>[ `Video ]</span> <a href="index.html#type-input">input</a></span> <a href="index.html#type-entries">entries</a></span>)</span> <a href="index.html#type-av">av</a></span></code></dt><dt class="spec type" id="type-outputs"><a href="#type-outputs" class="anchor"></a><code><span class="keyword">type</span> outputs</code><code> = <span><span>(<span><span><span>[ `Audio ]</span> <a href="index.html#type-output">output</a></span> <a href="index.html#type-entries">entries</a></span>, <span><span><span>[ `Video ]</span> <a href="index.html#type-output">output</a></span> <a href="index.html#type-entries">entries</a></span>)</span> <a href="index.html#type-av">av</a></span></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span><span>(<a href="index.html#type-inputs">inputs</a>, <a href="index.html#type-outputs">outputs</a>)</span> <a href="index.html#type-io">io</a></span></code></dt></dl><dl><dt class="spec value" id="val-time_base"><a href="#val-time_base" class="anchor"></a><code><span class="keyword">val</span> time_base : <span><span class="type-var">_</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-rational">Avutil.rational</a></code></dt><dt class="spec value" id="val-frame_rate"><a href="#val-frame_rate" class="anchor"></a><code><span class="keyword">val</span> frame_rate : <span><span>[ `Video ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-rational">Avutil.rational</a></code></dt><dt class="spec value" id="val-width"><a href="#val-width" class="anchor"></a><code><span class="keyword">val</span> width : <span><span>[ `Video ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-height"><a href="#val-height" class="anchor"></a><code><span class="keyword">val</span> height : <span><span>[ `Video ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-sample_aspect_ratio"><a href="#val-sample_aspect_ratio" class="anchor"></a><code><span class="keyword">val</span> sample_aspect_ratio : <span><span>[ `Video ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/index.html#type-rational">Avutil.rational</a></code></dt><dt class="spec value" id="val-pixel_format"><a href="#val-pixel_format" class="anchor"></a><code><span class="keyword">val</span> pixel_format : <span><span>[ `Video ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/Pixel_format/index.html#type-t">Avutil.Pixel_format.t</a></code></dt><dt class="spec value" id="val-channels"><a href="#val-channels" class="anchor"></a><code><span class="keyword">val</span> channels : <span><span>[ `Audio ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-channel_layout"><a href="#val-channel_layout" class="anchor"></a><code><span class="keyword">val</span> channel_layout : <span><span>[ `Audio ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/Channel_layout/index.html#type-t">Avutil.Channel_layout.t</a></code></dt><dt class="spec value" id="val-sample_rate"><a href="#val-sample_rate" class="anchor"></a><code><span class="keyword">val</span> sample_rate : <span><span>[ `Audio ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-sample_format"><a href="#val-sample_format" class="anchor"></a><code><span class="keyword">val</span> sample_format : <span><span>[ `Audio ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../ffmpeg-avutil/Avutil/Sample_format/index.html#type-t">Avutil.Sample_format.t</a></code></dt><dt class="spec value" id="val-set_frame_size"><a href="#val-set_frame_size" class="anchor"></a><code><span class="keyword">val</span> set_frame_size : <span><span>[ `Audio ]</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec exception" id="exception-Exists"><a href="#exception-Exists" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Exists</span></code></dt></dl><dl><dt class="spec value" id="val-filters"><a href="#val-filters" class="anchor"></a><code><span class="keyword">val</span> filters : <span><span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span> list</span></code></dt><dd><p>Filter list.</p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : string <span>&#45;&gt;</span> <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dt class="spec value" id="val-find_opt"><a href="#val-find_opt" class="anchor"></a><code><span class="keyword">val</span> find_opt : string <span>&#45;&gt;</span> <span><span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span> option</span></code></dt><dt class="spec value" id="val-abuffer"><a href="#val-abuffer" class="anchor"></a><code><span class="keyword">val</span> abuffer : <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dd><p>Buffers (input).</p></dd></dl><dl><dt class="spec value" id="val-buffer"><a href="#val-buffer" class="anchor"></a><code><span class="keyword">val</span> buffer : <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dt class="spec value" id="val-abuffersink"><a href="#val-abuffersink" class="anchor"></a><code><span class="keyword">val</span> abuffersink : <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dd><p>Sinks (output).</p></dd></dl><dl><dt class="spec value" id="val-buffersink"><a href="#val-buffersink" class="anchor"></a><code><span class="keyword">val</span> buffersink : <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dt class="spec value" id="val-pad_name"><a href="#val-pad_name" class="anchor"></a><code><span class="keyword">val</span> pad_name : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-pad">pad</a></span> <span>&#45;&gt;</span> string</code></dt><dd><p>Pad name.</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : unit <span>&#45;&gt;</span> <a href="index.html#type-config">config</a></code></dt><dd><p>Initiate a filter graph configuration.</p></dd></dl><dl><dt class="spec value" id="val-attach"><a href="#val-attach" class="anchor"></a><code><span class="keyword">val</span> attach : <span>?&#8288;args:<span><a href="index.html#type-args">args</a> list</span></span> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span><span>[ `Unattached ]</span> <a href="index.html#type-filter">filter</a></span> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <span><span>[ `Attached ]</span> <a href="index.html#type-filter">filter</a></span></code></dt><dd><p>Attach a filter to a filter graph configuration. Raises <code>Exists</code> if there is already a filter by that name in the graph. Number of inputs or outputs can change from the filter's specifications, in particular if the filter has the <code>`Dynamic_input</code> or <code>`Dynamic_output</code> flag set.</p></dd></dl><dl><dt class="spec value" id="val-link"><a href="#val-link" class="anchor"></a><code><span class="keyword">val</span> link : <span><span>(<span>[ `Attached ]</span>, <span class="type-var">'a</span>, <span>[ `Output ]</span>)</span> <a href="index.html#type-pad">pad</a></span> <span>&#45;&gt;</span> <span><span>(<span>[ `Attached ]</span>, <span class="type-var">'a</span>, <span>[ `Input ]</span>)</span> <a href="index.html#type-pad">pad</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Link two filter pads.</p></dd></dl><dl><dt class="spec type" id="type-parse_node"><a href="#type-parse_node" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b, 'c) parse_node</span></code><code> = </code><code>{</code><table class="record"><tr id="type-parse_node.node_name" class="anchored"><td class="def field"><a href="#type-parse_node.node_name" class="anchor"></a><code>node_name : string;</code></td></tr><tr id="type-parse_node.node_args" class="anchored"><td class="def field"><a href="#type-parse_node.node_args" class="anchor"></a><code>node_args : <span><span><a href="index.html#type-args">args</a> list</span> option</span>;</code></td></tr><tr id="type-parse_node.node_pad" class="anchored"><td class="def field"><a href="#type-parse_node.node_pad" class="anchor"></a><code>node_pad : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="index.html#type-pad">pad</a></span>;</code></td></tr></table><code>}</code></dt><dd><p>Parse a graph described by a string and attach outputs/inputs to it.</p></dd></dl><dl><dt class="spec type" id="type-parse_av"><a href="#type-parse_av" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) parse_av</span></code><code> = <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span>[ `Audio ]</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-parse_node">parse_node</a></span> list</span>, <span><span><span>(<span class="type-var">'a</span>, <span>[ `Video ]</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-parse_node">parse_node</a></span> list</span>)</span> <a href="index.html#type-av">av</a></span></code></dt><dt class="spec type" id="type-parse_io"><a href="#type-parse_io" class="anchor"></a><code><span class="keyword">type</span> <span>'a parse_io</span></code><code> = <span><span>(<span><span>(<span class="type-var">'a</span>, <span>[ `Input ]</span>)</span> <a href="index.html#type-parse_av">parse_av</a></span>, <span><span>(<span class="type-var">'a</span>, <span>[ `Output ]</span>)</span> <a href="index.html#type-parse_av">parse_av</a></span>)</span> <a href="index.html#type-io">io</a></span></code></dt></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <span><span>[ `Unattached ]</span> <a href="index.html#type-parse_io">parse_io</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <span><span>[ `Attached ]</span> <a href="index.html#type-parse_io">parse_io</a></span></code></dt><dt class="spec value" id="val-launch"><a href="#val-launch" class="anchor"></a><code><span class="keyword">val</span> launch : <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Check validity and configure all the links and formats in the graph and return its outputs and outputs.</p></dd></dl><div class="spec module" id="module-Utils"><a href="#module-Utils" class="anchor"></a><code><span class="keyword">module</span> <a href="Utils/index.html">Utils</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>