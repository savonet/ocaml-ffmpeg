<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Avutil (ffmpeg-avutil.Avutil)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ffmpeg-avutil</a> &#x00BB; Avutil</nav><h1>Module <code>Avutil</code></h1><p>Common code shared across all FFmpeg libraries.</p><nav class="toc"><ul><li><a href="#line">Line</a></li><li><a href="#container">Container</a></li><li><a href="#media-types">Media types</a></li><li><a href="#format">Format</a></li><li><a href="#frame">Frame</a></li><li><a href="#exception">Exception</a><ul><li><a href="#constants">Constants</a></li><li><a href="#timestamp">Timestamp</a></li><li><a href="#logging-utilities">Logging utilities</a></li><li><a href="#audio-utilities">Audio utilities</a></li><li><a href="#video-utilities">Video utilities</a></li><li><a href="#subtitle-utilities">Subtitle utilities</a></li><li><a href="#hwcontext">HwContext</a></li></ul></li></ul></nav></header><section><header><h2 id="line"><a href="#line" class="anchor"></a>Line</h2></header><dl><dt class="spec type" id="type-input"><a href="#type-input" class="anchor"></a><code><span class="keyword">type</span> input</code></dt><dt class="spec type" id="type-output"><a href="#type-output" class="anchor"></a><code><span class="keyword">type</span> output</code></dt></dl></section><section><header><h2 id="container"><a href="#container" class="anchor"></a>Container</h2></header><dl><dt class="spec type" id="type-container"><a href="#type-container" class="anchor"></a><code><span class="keyword">type</span> <span>'a container</span></code></dt></dl></section><section><header><h2 id="media-types"><a href="#media-types" class="anchor"></a>Media types</h2></header><dl><dt class="spec type" id="type-audio"><a href="#type-audio" class="anchor"></a><code><span class="keyword">type</span> audio</code> = <code>[ </code><table class="variant"><tr id="type-audio.Audio" class="anchored"><td class="def constructor"><a href="#type-audio.Audio" class="anchor"></a><code>| </code><code>`Audio</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-video"><a href="#type-video" class="anchor"></a><code><span class="keyword">type</span> video</code> = <code>[ </code><table class="variant"><tr id="type-video.Video" class="anchored"><td class="def constructor"><a href="#type-video.Video" class="anchor"></a><code>| </code><code>`Video</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-subtitle"><a href="#type-subtitle" class="anchor"></a><code><span class="keyword">type</span> subtitle</code> = <code>[ </code><table class="variant"><tr id="type-subtitle.Subtitle" class="anchored"><td class="def constructor"><a href="#type-subtitle.Subtitle" class="anchor"></a><code>| </code><code>`Subtitle</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-media_type"><a href="#type-media_type" class="anchor"></a><code><span class="keyword">type</span> media_type</code> = <code>[ </code><table class="variant"><tr id="type-media_type.audio" class="anchored"><td class="def type"><a href="#type-media_type.audio" class="anchor"></a><code>| </code><code><a href="index.html#type-audio">audio</a></code></td></tr><tr id="type-media_type.video" class="anchored"><td class="def type"><a href="#type-media_type.video" class="anchor"></a><code>| </code><code><a href="index.html#type-video">video</a></code></td></tr><tr id="type-media_type.subtitle" class="anchored"><td class="def type"><a href="#type-media_type.subtitle" class="anchor"></a><code>| </code><code><a href="index.html#type-subtitle">subtitle</a></code></td></tr><tr id="type-media_type.Unknown" class="anchored"><td class="def constructor"><a href="#type-media_type.Unknown" class="anchor"></a><code>| </code><code>`Unknown</code></td></tr><tr id="type-media_type.Data" class="anchored"><td class="def constructor"><a href="#type-media_type.Data" class="anchor"></a><code>| </code><code>`Data</code></td></tr><tr id="type-media_type.Attachment" class="anchored"><td class="def constructor"><a href="#type-media_type.Attachment" class="anchor"></a><code>| </code><code>`Attachment</code></td></tr><tr id="type-media_type.Nb" class="anchored"><td class="def constructor"><a href="#type-media_type.Nb" class="anchor"></a><code>| </code><code>`Nb</code></td></tr></table><code> ]</code></dt></dl></section><section><header><h2 id="format"><a href="#format" class="anchor"></a>Format</h2></header><dl><dt class="spec type" id="type-format"><a href="#type-format" class="anchor"></a><code><span class="keyword">type</span> <span>('line, 'media) format</span></code></dt></dl></section><section><header><h2 id="frame"><a href="#frame" class="anchor"></a>Frame</h2></header><dl><dt class="spec type" id="type-frame"><a href="#type-frame" class="anchor"></a><code><span class="keyword">type</span> <span>'media frame</span></code></dt></dl><dl><dt class="spec value" id="val-frame_pts"><a href="#val-frame_pts" class="anchor"></a><code><span class="keyword">val</span> frame_pts : <span><span class="type-var">_</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> <span>Stdlib.Int64.t option</span></code></dt><dd><p><code>Avutil.frame_pts frame</code> returns the presentation timestamp in time_base units (time when frame should be shown to user).</p></dd></dl><dl><dt class="spec value" id="val-frame_set_pts"><a href="#val-frame_set_pts" class="anchor"></a><code><span class="keyword">val</span> frame_set_pts : <span><span class="type-var">_</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> <span>Stdlib.Int64.t option</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avutil.frame_set_pts frame pts</code> sets the presentation time for this frame.</p></dd></dl><dl><dt class="spec value" id="val-frame_best_effort_timestamp"><a href="#val-frame_best_effort_timestamp" class="anchor"></a><code><span class="keyword">val</span> frame_best_effort_timestamp : <span><span class="type-var">_</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> <span>Stdlib.Int64.t option</span></code></dt><dd><p><code>Avutil.frame_best_effort_timestamp frame</code> returns the frame timestamp estimated using various heuristics, in stream time base</p></dd></dl><dl><dt class="spec value" id="val-frame_pkt_duration"><a href="#val-frame_pkt_duration" class="anchor"></a><code><span class="keyword">val</span> frame_pkt_duration : <span><span class="type-var">_</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> <span>Stdlib.Int64.t option</span></code></dt><dd><p>duration of the corresponding packet, expressed in AVStream-&gt;time_base units.</p></dd></dl><dl><dt class="spec value" id="val-frame_copy"><a href="#val-frame_copy" class="anchor"></a><code><span class="keyword">val</span> frame_copy : <span><span class="type-var">'a</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-frame">frame</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Avutil.frame_copy src dst</code> copies data from <code>src</code> into <code>dst</code></p></dd></dl></section><section><header><h2 id="exception"><a href="#exception" class="anchor"></a>Exception</h2></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code> = <code>[ </code><table class="variant"><tr id="type-error.Bsf_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Bsf_not_found" class="anchor"></a><code>| </code><code>`Bsf_not_found</code></td></tr><tr id="type-error.Decoder_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Decoder_not_found" class="anchor"></a><code>| </code><code>`Decoder_not_found</code></td></tr><tr id="type-error.Demuxer_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Demuxer_not_found" class="anchor"></a><code>| </code><code>`Demuxer_not_found</code></td></tr><tr id="type-error.Encoder_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Encoder_not_found" class="anchor"></a><code>| </code><code>`Encoder_not_found</code></td></tr><tr id="type-error.Eof" class="anchored"><td class="def constructor"><a href="#type-error.Eof" class="anchor"></a><code>| </code><code>`Eof</code></td></tr><tr id="type-error.Exit" class="anchored"><td class="def constructor"><a href="#type-error.Exit" class="anchor"></a><code>| </code><code>`Exit</code></td></tr><tr id="type-error.Filter_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Filter_not_found" class="anchor"></a><code>| </code><code>`Filter_not_found</code></td></tr><tr id="type-error.Invalid_data" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_data" class="anchor"></a><code>| </code><code>`Invalid_data</code></td></tr><tr id="type-error.Muxer_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Muxer_not_found" class="anchor"></a><code>| </code><code>`Muxer_not_found</code></td></tr><tr id="type-error.Option_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Option_not_found" class="anchor"></a><code>| </code><code>`Option_not_found</code></td></tr><tr id="type-error.Patch_welcome" class="anchored"><td class="def constructor"><a href="#type-error.Patch_welcome" class="anchor"></a><code>| </code><code>`Patch_welcome</code></td></tr><tr id="type-error.Protocol_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Protocol_not_found" class="anchor"></a><code>| </code><code>`Protocol_not_found</code></td></tr><tr id="type-error.Stream_not_found" class="anchored"><td class="def constructor"><a href="#type-error.Stream_not_found" class="anchor"></a><code>| </code><code>`Stream_not_found</code></td></tr><tr id="type-error.Bug" class="anchored"><td class="def constructor"><a href="#type-error.Bug" class="anchor"></a><code>| </code><code>`Bug</code></td></tr><tr id="type-error.Eagain" class="anchored"><td class="def constructor"><a href="#type-error.Eagain" class="anchor"></a><code>| </code><code>`Eagain</code></td></tr><tr id="type-error.Unknown" class="anchored"><td class="def constructor"><a href="#type-error.Unknown" class="anchor"></a><code>| </code><code>`Unknown</code></td></tr><tr id="type-error.Experimental" class="anchored"><td class="def constructor"><a href="#type-error.Experimental" class="anchor"></a><code>| </code><code>`Experimental</code></td></tr><tr id="type-error.Other" class="anchored"><td class="def constructor"><a href="#type-error.Other" class="anchor"></a><code>| </code><code>`Other <span class="keyword">of</span> int</code></td></tr><tr id="type-error.Failure" class="anchored"><td class="def constructor"><a href="#type-error.Failure" class="anchor"></a><code>| </code><code>`Failure <span class="keyword">of</span> string</code></td></tr></table><code> ]</code></dt><dd><p>Internal errors.</p></dd></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> <a href="index.html#type-error">error</a></code></dt></dl><dl><dt class="spec value" id="val-string_of_error"><a href="#val-string_of_error" class="anchor"></a><code><span class="keyword">val</span> string_of_error : <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-data"><a href="#type-data" class="anchor"></a><code><span class="keyword">type</span> data</code><code> = <span><span>(int,Â Stdlib.Bigarray.int8_unsigned_elt,Â Stdlib.Bigarray.c_layout)</span> Stdlib.Bigarray.Array1.t</span></code></dt></dl><dl><dt class="spec value" id="val-create_data"><a href="#val-create_data" class="anchor"></a><code><span class="keyword">val</span> create_data : int <span>&#45;&gt;</span> <a href="index.html#type-data">data</a></code></dt></dl><dl><dt class="spec type" id="type-rational"><a href="#type-rational" class="anchor"></a><code><span class="keyword">type</span> rational</code><code> = </code><code>{</code><table class="record"><tr id="type-rational.num" class="anchored"><td class="def field"><a href="#type-rational.num" class="anchor"></a><code>num : int;</code></td></tr><tr id="type-rational.den" class="anchored"><td class="def field"><a href="#type-rational.den" class="anchor"></a><code>den : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-string_of_rational"><a href="#val-string_of_rational" class="anchor"></a><code><span class="keyword">val</span> string_of_rational : <a href="index.html#type-rational">rational</a> <span>&#45;&gt;</span> string</code></dt></dl><section><header><h6 id="constants"><a href="#constants" class="anchor"></a>Constants</h6></header><dl><dt class="spec value" id="val-qp2lambda"><a href="#val-qp2lambda" class="anchor"></a><code><span class="keyword">val</span> qp2lambda : int</code></dt></dl></section><section><header><h6 id="timestamp"><a href="#timestamp" class="anchor"></a>Timestamp</h6></header><dl><dt class="spec module" id="module-Time_format"><a href="#module-Time_format" class="anchor"></a><code><span class="keyword">module</span> <a href="Time_format/index.html">Time_format</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Formats for time.</p></dd></dl><dl><dt class="spec value" id="val-time_base"><a href="#val-time_base" class="anchor"></a><code><span class="keyword">val</span> time_base : unit <span>&#45;&gt;</span> <a href="index.html#type-rational">rational</a></code></dt><dd><p>Return the time base of FFmpeg.</p></dd></dl></section><section><header><h6 id="logging-utilities"><a href="#logging-utilities" class="anchor"></a>Logging utilities</h6></header><div class="spec module" id="module-Log"><a href="#module-Log" class="anchor"></a><code><span class="keyword">module</span> <a href="Log/index.html">Log</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h6 id="audio-utilities"><a href="#audio-utilities" class="anchor"></a>Audio utilities</h6></header><dl><dt class="spec module" id="module-Channel_layout"><a href="#module-Channel_layout" class="anchor"></a><code><span class="keyword">module</span> <a href="Channel_layout/index.html">Channel_layout</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Formats for channels layouts.</p></dd></dl><dl><dt class="spec module" id="module-Sample_format"><a href="#module-Sample_format" class="anchor"></a><code><span class="keyword">module</span> <a href="Sample_format/index.html">Sample_format</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Formats for audio samples.</p></dd></dl></section><section><header><h6 id="video-utilities"><a href="#video-utilities" class="anchor"></a>Video utilities</h6></header><dl><dt class="spec module" id="module-Pixel_format"><a href="#module-Pixel_format" class="anchor"></a><code><span class="keyword">module</span> <a href="Pixel_format/index.html">Pixel_format</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Formats for pixels.</p></dd></dl><div class="spec module" id="module-Audio"><a href="#module-Audio" class="anchor"></a><code><span class="keyword">module</span> <a href="Audio/index.html">Audio</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Video"><a href="#module-Video" class="anchor"></a><code><span class="keyword">module</span> <a href="Video/index.html">Video</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h6 id="subtitle-utilities"><a href="#subtitle-utilities" class="anchor"></a>Subtitle utilities</h6></header><div class="spec module" id="module-Subtitle"><a href="#module-Subtitle" class="anchor"></a><code><span class="keyword">module</span> <a href="Subtitle/index.html">Subtitle</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Options"><a href="#module-Options" class="anchor"></a><code><span class="keyword">module</span> <a href="Options/index.html">Options</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl><dl><dt class="spec type" id="type-value"><a href="#type-value" class="anchor"></a><code><span class="keyword">type</span> value</code> = <code>[ </code><table class="variant"><tr id="type-value.String" class="anchored"><td class="def constructor"><a href="#type-value.String" class="anchor"></a><code>| </code><code>`String <span class="keyword">of</span> string</code></td></tr><tr id="type-value.Int" class="anchored"><td class="def constructor"><a href="#type-value.Int" class="anchor"></a><code>| </code><code>`Int <span class="keyword">of</span> int</code></td></tr><tr id="type-value.Int64" class="anchored"><td class="def constructor"><a href="#type-value.Int64" class="anchor"></a><code>| </code><code>`Int64 <span class="keyword">of</span> int64</code></td></tr><tr id="type-value.Float" class="anchored"><td class="def constructor"><a href="#type-value.Float" class="anchor"></a><code>| </code><code>`Float <span class="keyword">of</span> float</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-opts"><a href="#type-opts" class="anchor"></a><code><span class="keyword">type</span> opts</code><code> = <span><span>(string,Â <a href="index.html#type-value">value</a>)</span> Stdlib.Hashtbl.t</span></code></dt></dl><dl><dt class="spec value" id="val-opts_default"><a href="#val-opts_default" class="anchor"></a><code><span class="keyword">val</span> opts_default : <span><a href="index.html#type-opts">opts</a> option</span> <span>&#45;&gt;</span> <a href="index.html#type-opts">opts</a></code></dt><dt class="spec value" id="val-mk_opts_array"><a href="#val-mk_opts_array" class="anchor"></a><code><span class="keyword">val</span> mk_opts_array : <a href="index.html#type-opts">opts</a> <span>&#45;&gt;</span> <span><span>(string * string)</span> array</span></code></dt><dt class="spec value" id="val-string_of_opts"><a href="#val-string_of_opts" class="anchor"></a><code><span class="keyword">val</span> string_of_opts : <a href="index.html#type-opts">opts</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-mk_audio_opts"><a href="#val-mk_audio_opts" class="anchor"></a><code><span class="keyword">val</span> mk_audio_opts : <span>?&#8288;opts:<a href="index.html#type-opts">opts</a></span> <span>&#45;&gt;</span> <span>?&#8288;channels:int</span> <span>&#45;&gt;</span> <span>?&#8288;channel_layout:<a href="Channel_layout/index.html#type-t">Channel_layout.t</a></span> <span>&#45;&gt;</span> <span>sample_rate:int</span> <span>&#45;&gt;</span> <span>sample_format:<a href="Sample_format/index.html#type-t">Sample_format.t</a></span> <span>&#45;&gt;</span> <span>time_base:<a href="index.html#type-rational">rational</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-opts">opts</a></code></dt><dt class="spec value" id="val-mk_video_opts"><a href="#val-mk_video_opts" class="anchor"></a><code><span class="keyword">val</span> mk_video_opts : <span>?&#8288;opts:<a href="index.html#type-opts">opts</a></span> <span>&#45;&gt;</span> <span>?&#8288;frame_rate:<a href="index.html#type-rational">rational</a></span> <span>&#45;&gt;</span> <span>pixel_format:<a href="Pixel_format/index.html#type-t">Pixel_format.t</a></span> <span>&#45;&gt;</span> <span>width:int</span> <span>&#45;&gt;</span> <span>height:int</span> <span>&#45;&gt;</span> <span>time_base:<a href="index.html#type-rational">rational</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-opts">opts</a></code></dt><dt class="spec value" id="val-filter_opts"><a href="#val-filter_opts" class="anchor"></a><code><span class="keyword">val</span> filter_opts : <span>string array</span> <span>&#45;&gt;</span> <a href="index.html#type-opts">opts</a> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h6 id="hwcontext"><a href="#hwcontext" class="anchor"></a>HwContext</h6></header><div class="spec module" id="module-HwContext"><a href="#module-HwContext" class="anchor"></a><code><span class="keyword">module</span> <a href="HwContext/index.html">HwContext</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></section></div></body></html>